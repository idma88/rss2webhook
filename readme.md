# RSS2Webhook

## Описание
Проверяет наличие обновлений в RSS-канале и отправляет WebHook при изменениях

## Настройка
RSS-каналы, Webhook'и и шаблоны задаются в файле `feeds.json`

```json
[
    {
        "url": "...",
        "webhook": {
            "url": "...",
            "template": "..."
        }
    },
    ...
    {
        "url": "...",
        "webhook": {
            "url": "...",
            "template": "..."
        }
    }
]
```

В поле `template` необходимо указать JSON представление тела WebHook запроса.
Доступны следующие заполнители:

* `{{EntryTitle}}` - Заголовок
* `{{EntryUrl}}` - URL
* `{{EntryAuthor}}` - Автор
* `{{EntryContent}}` - Содержимое
* `{{EntryPublished}}` - Дата публикации
* `{{EntryImageUrl}}` - URL изображения

URL изображения извлекается из поля `<enclosure><url>`. Если поле отсутствует, то производится попытка извлечения URL из содержимого (производится поиск первого HTML-тега IMG)

Период проверки одновлений состовляет 60000 мс. (1 минута) и может быть изменён через переменную окружения `RSS_UPDATE_TIMEOUT`. Время задаётся в миллисекундах.